<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webleb</title>
    <link rel="stylesheet" href="css & js/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<div class="login-page">
    <div class="form">
        <form class="login-form" onsubmit="return handleLogin()">
            <h2><i class="fas fa-lock"></i> Login</h2>
            <input type="text" id="username" placeholder="Username" required />
            <input type="password" id="password" placeholder="Password" required/>
            <div id="login-message"></div>
            <button type="submit" name="send2">Login</button>
        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="css & js/js/main.js"></script>
<script>
  $(document).ready(function() {
      $('.login-form').submit(function(event) {
          event.preventDefault(); // Prevent the default form submission
          handleLogin();
      });

      // Prevent Enter key from triggering the form submission
      $('#username, #password').keydown(function(event) {
          if (event.which === 13) {
              event.preventDefault();
              handleLogin();
          }
      });

      function handleLogin() {
          var username = $('#username').val();
          var password = $('#password').val();
          var messageElement = $('#login-message');

          // Check credentials
          if (username === 'Max' && password === 'password1') {
              showMessage('Anmeldung erfolgreich f端r Max.', 'success');
              setTimeout(function() {
                  window.location.href = 'logout/Max';
              }, 1500);
          } else if (username === 'Leon' && password === 'password2') {
              showMessage('Anmeldung erfolgreich f端r Leon.', 'success');
              setTimeout(function() {
                  window.location.href = 'logout/Leon';
              }, 1500);
          } else if (username === 'Jendrigo' && password === 'password3') {
              showMessage('Anmeldung erfolgreich f端r Jendrigo.', 'success');
              setTimeout(function() {
                  window.location.href = 'logout/Jendrigo';
              }, 1500);
          } else {
              showMessage('Ung端ltiger Benutzername oder Passwort.', 'error');
          }
      }

      function showMessage(message, type) {
          var messageElement = $('#login-message');
          messageElement.html(message).removeClass().addClass(type);
          setTimeout(function() {
              messageElement.empty().removeClass();
          }, 3000); // Meldung nach 3 Sekunden entfernen
      }
  });
</script>

</body>
</html>
